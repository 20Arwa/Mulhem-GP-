1. Generate Image
    promptAllam = f"""Input: استخرج من القصة التفاصيل وصف تفصيلي، مثل وصف شخصية البطل (نوعها، ملامحها، ملابسها)، مع التركيز على العناصر البصرية والتفاصيل الجوية. إذا كانت القصة غير منطقية تمامًا أو مجرد حروف عشوائية، أرجع \"False\". إذا كانت القصة منطقية، قم بكتابة وصف تفصيلي باللغة الإنجليزية فقط.
القصة: في غابة جميلة غنّاء سمعت الحيوانات صوت شجار غرابين واقفين على غصن شجرة عالِ، فقَدِم الثعلب المكّار وحاول أن يفهم سبب شجارهما، وما إن اقترب أكثر حتى سأل الغرابين: ما بالكما أيها الغرابان؟ فقال أحدهما: اتفقنا على أن نتشارك قطعة الجبن هذه بعد قسمتها بالتساوي، لكنّ هذا الغراب الأحمق يحاول أخذ مقدار يزيد عن نصيبه، فابتسم الثعلب، وقال: إذن ما رأيكما في أن أساعدكما في حل هذه المشكلة، وأقسم قطعة الجبن بينكما بالتساوي؟.
Output: ["True", "Two black crows perched on a high tree branch, arguing over a piece of cheese. The crows have glossy black feathers, The surrounding forest is lush with green trees, and soft sunlight filters through the branches, creating a lively and peaceful atmosphere in the background."]


Input: استخرج من القصة التفاصيل وصف تفصيلي، مثل وصف شخصية البطل (نوعها، ملامحها، ملابسها)، مع التركيز على العناصر البصرية والتفاصيل الجوية. إذا كانت القصة غير منطقية تمامًا أو مجرد حروف عشوائية، أرجع \"False\". إذا كانت القصة منطقية، قم بكتابة وصف تفصيلي باللغة الإنجليزية فقط.
القصة: كان يا مكان في قديم الزمان خهثتبخ ةبن
Output: ["False"]

Input: استخرج من القصة التفاصيل وصف تفصيلي، مثل وصف شخصية البطل (نوعها، ملامحها، ملابسها)، مع التركيز على العناصر البصرية والتفاصيل الجوية. إذا كانت القصة غير منطقية تمامًا أو مجرد حروف عشوائية، أرجع \"False\". إذا كانت القصة منطقية، قم بكتابة وصف تفصيلي باللغة الإنجليزية فقط.
القصة: {data['message']}.
Output:"""


2. Story Generator
prompt = f"""Input:اكتب قصة طويلة للأطفال بصيغة JSON. يجب أن يحتوي JSON على عنوان القصة والقصة نفسها مقسمة إلى أجزاء، بحيث لا يتعدى كل جزء 500 حرف. يجب أن تكون القصة مكتوبة بلغة مناسبة للأطفال، خالية من التفاصيل غير المنطقية أو غير اللائقة. إذا وجدت أي تفاصيل غير مناسبة، تجاهلها واستبدلها بما تراه مناسبًا، مع الحفاظ على جودة القصة وسلامتها للأطفال.
    الصيغة المطلوبة:
    {{"title": "عنوان القصة", "story": ["الجزء الأول من القصة…","الجزء الثاني من القصة…",…]}}
    تفاصيل القصة:{{'characters': [{{"name": "اروى", "description": "ذكية"}}], "place": "المدرسة", "time": "صباح", "problem": "لم تحل الواجب", "solution": "اعترفت"}}
    Output:{{"title": "أروى والواجب المدرسي","story": ["في صباح يوم جميل، استيقظت أروى وهي تشعر بالحماس ليوم جديد في المدرسة. كانت فتاة ذكية ومجتهدة، ولكن هذه المرة كان هناك شيء يقلقها. فقد كان المعلم قد كلفهم بواجب صعب، ولم تتمكن أروى من إنهائه بسبب ضيق الوقت. حاولت حله ليلة البارحة، لكن الأسئلة بدت صعبة، ولم تستطع التركيز بسبب المهام الأخرى التي انشغلت بها. وبينما ترتب حقيبتها، بدأت تتساءل كيف ستتعامل مع الموقف؟","أخذت أروى حقيبتها وركضت إلى المدرسة. كانت الطريق تبدو طويلة هذه المرة، حيث لم يتوقف عقلها عن التفكير في الواجب. ماذا ستقول للمعلم؟ كيف ستبرر عدم حل الواجب؟ شعرت أن قلبها ينبض بسرعة. عندما اقتربت من باب المدرسة، حاولت أن تهدئ نفسها، لكنها لم تستطع التخلص من القلق","وصلت أروى إلى الفصل، وجلست في مقعدها وهي شاردة الذهن. كان المعلم يشرح الدرس، لكنها لم تكن تتابع. الجميع بدأوا يفتحون دفاترهم استعدادًا لتقديم الواجب. شعرت أروى بالخجل عندما نظرت إلى دفاتر أصدقائها، ووجدتهم قد أتموا المهمة. شعرت أن اللحظة التي تخشاها قد اقتربت. قررت أروى أن تتحلى بالشجاعة.","رفعت يدها وقالت: 'أستاذ، لم أتمكن من حل الواجب، لكنني أعدك بأنني سأحاول المرة القادمة.' تفاجأت حين ابتسم المعلم وقال: 'الصدق هو أهم شيء يا أروى. لا بأس، لكن عليك تعلم إدارة وقتك.' شعرت أروى بالراحة، وعادت إلى المنزل وهي مليئة بالعزيمة. منذ ذلك اليوم، أصبحت أروى أكثر تنظيمًا في وقتها. تعلمت أن الصدق والمثابرة هما مفتاح النجاح، ولم تعد تخشى مواجهة التحديات."]}}

    Input:اكتب قصة طويلة للأطفال بصيغة JSON. يجب أن يحتوي JSON على عنوان القصة والقصة نفسها مقسمة إلى أجزاء، بحيث لا يتعدى كل جزء 500 حرف. يجب أن تكون القصة مكتوبة بلغة مناسبة للأطفال، خالية من التفاصيل غير المنطقية أو غير اللائقة. إذا وجدت أي تفاصيل غير مناسبة، تجاهلها واستبدلها بما تراه مناسبًا، مع الحفاظ على جودة القصة وسلامتها للأطفال.
    الصيغة المطلوبة:
    {{"title": "عنوان القصة", "story": ["الجزء الأول من القصة…","الجزء الثاني من القصة…",…]}}
    تفاصيل القصة:{data.get('message')}
    Output:"""


3. Edit Availble Story
 prompt = f"""Input:قم بتطبيق التعديلات المطلوبة على القصة الأصلية، وأعد كتابة القصة الأصلية بأسلوب بسيط وممتع للأطفال مع الحفاظ على الأحداث الرئيسية.
        -يجب أن تكون القصة في سطر واحد.
        -حافظ على طول القصة ليكون مشابهًا للقصة الأصلية.
        -أضف التعديلات المطلوبة بشكل متناسق وطبيعي.
        -إذا كان التعديل غير منطقي أو غير لائق أو فارغ، من فضلك تجاهله.
        لقصة الأصلية: في غابة جميلة، عاشت الأرنبة لينا مع أبنائها الأربعة: فلة، مرمر، روان، وباسل، تحت شجرة كبيرة. كانت دائمًا تحذرهم من المخاطر. في صباحٍ هادئ، قالت لهم بلهجة جادة: "لا تدخلوا حديقة السيد محمود. رغم أن فيها خضروات شهية، إلا أنها مليئة بالمصائد. والدكم وقع في واحدة هناك." وافق الجميع على التحذير. بينما خرج فلة ومرمر وروان لجمع التوت، قرر باسل تجاهل التحذير والمغامرة.انتظر باسل حتى غادر الجميع ثم توجه للحديقة. وجد الباب مفتوحًا قليلاً، فانسل إلى الداخل. اندهش برؤية الجزر، الخس، والخضروات الطازجة. بدأ يأكل بشراهة، ناسيًا تحذير والدته. وبينما كان يستمتع، سمع صوت خطوات خلفه. استدار ليجد السيد محمود يقترب حاملاً عصاه وهو يصرخ: "أيها الأرنب اللص!" حاول باسل الهرب، لكنه علقت قدماه في شبكة صغيرة.علق باسل بالشبكة، لكنه بذل جهدًا كبيرًا لتحرير نفسه. فقد معطفه وحذاءيه الجديدين، وركض بأسرع ما يمكن. بحث عن مخرج فرأى نافذة صغيرة في سقيفة الأدوات وقفز منها بصعوبة. عندما خرج، ركض نحو بوابة الحديقة المفتوحة واندفع إلى الخارج. ظل يجري بين الأشجار حتى تأكد أن السيد محمود لم يعد يلاحقه. وصل إلى البيت منهكًا ومبللًا، وشعر بالخجل من والدته. رأت الأم حالة باسل المتعبة فقالت بهدوء: "ما الذي حدث؟" روى لها القصة وهو يشعر بالخجل. قالت الأم: "لقد فقدت معطفك وحذاءيك، لكنك تعلمت درسًا مهمًا اليوم." أحضرت له شاي البابونج ليساعده على الراحة. بينما تناول إخوته العشاء، شعر باسل بالحزن لأنه لم يشاركهم. قبل النوم، وعد والدته أن يلتزم بنصائحها دائمًا. نام مطمئنًا وقد تعلم أن الطاعة تحمي من الأخطار.  التعديلات المطلوبة: {{'إضافة شخصية جديدة': [{{'الاسم': 'عمر', 'وصف الشخصية': 'أخ باسل'}}], 'تغيير الحدث': 'عمر وباسل يذهبان معا'}}     
        output:في غابة جميلة، عاشت الأرنبة لينا مع أبنائها الخمسة: فلة، مرمر، روان، باسل، وعمر، تحت شجرة كبيرة. كانت دائمًا تحذرهم من المخاطر. في صباح هادئ، قالت لهم بلهجة جادة: "لا تدخلوا حديقة السيد محمود. رغم أن فيها خضروات شهية، إلا أنها مليئة بالمصائد. والدكم وقع في واحدة هناك." وافق الجميع على التحذير. بينما خرج فلة ومرمر وروان لجمع التوت، اقترح عمر على باسل أن يذهبا معًا لاستكشاف الحديقة رغم التحذير.انتظر عمر وباسل حتى غادر الجميع، ثم تسللا إلى الحديقة من بابها المفتوح قليلاً. اندهشا برؤية الجزر والخس والخضروات الطازجة، وبدآ يأكلان بشراهة، ناسيين تحذير والدتهما. فجأة، سمعا صوت خطوات خلفهما. استدارا ليجدا السيد محمود يقترب حاملاً عصاه وهو يصرخ: "أيها الأرانب اللصوص!" حاول الاثنان الهرب، لكن باسل علق في شبكة صغيرة بينما تمكن عمر من الركض بسرعة.عاد عمر مسرعًا لمساعدة أخيه، فمزق الشبكة بعصا وجدها في السقيفة. فقد باسل معطفه وحذاءيه الجديدين، وركضا معًا نحو نافذة صغيرة في سقيفة الأدوات وقفزا منها بصعوبة. ركضا بين الأشجار حتى تأكدا أن السيد محمود لم يعد يلاحقهما.وصلا إلى البيت منهكين ومبللين، وشعرا بالخجل من والدتهما. رأت الأم حالتهما المتعبة فقالت بهدوء: "ما الذي حدث؟" روى لها عمر القصة وهو يشعر بالخجل، وأكمل باسل التفاصيل. قالت الأم: "لقد فقدتما معطفًا وحذاءً، لكنكما تعلمتما درسًا مهمًا اليوم." أحضرت لهما شاي البابونج ليساعدهما على الراحة. بينما تناول الإخوة العشاء، شعر باسل وعمر بالحزن لأنهما لم يشاركاهم. قبل النوم، وعدا والدتهما أن يلتزما بنصائحها دائمًا. ناما مطمئنين وقد تعلما أن الطاعة تحمي من الأخطار.

        Input:قم بتطبيق التعديلات المطلوبة على القصة الأصلية، وأعد كتابة القصة الأصلية بأسلوب بسيط وممتع للأطفال مع الحفاظ على الأحداث الرئيسية.
        -يجب أن تكون القصة في سطر واحد.
        -حافظ على طول القصة ليكون مشابهًا للقصة الأصلية.
        -أضف التعديلات المطلوبة بشكل متناسق وطبيعي.
        -إذا كان التعديل غير منطقي أو غير لائق أو فارغ، من فضلك تجاهله.
        القصة الأصلية: {single_line_story}
        التعديلات المطلوبة: {data['message'][1]}
        Output:"""


4. Correction
prompt = f"""Input: صحح الكلمات الخاطئة: كان هناك ولد يدعى أحمدون طيب في المدرست، لكنه يقابل شخصا ذو وجه مخيف ومعفن يؤذيه.
        Output: [["أحمدون","أحمد"],["ومعفن", "وغير لطيف"],["المردست", "المدرسة"]]
        Input: صحح الأخطاء: كان هناك ولد يدعى أحمد.
        Output: []
        Input: صحح الأخطاء: {data['message']}
        Output:"""


5. Story Elements
prompt = f"""Input: استخرج عناصر القصة الأساسية (الشخصيات، المكان، الزمان، الأسباب، المعضلة) من النص التالي: في الحديقة، كان هناك ولد يدعى أحمد، وهو هنا ليتعلم عن الطبيعة.
    Output: {{"الشخصيات": "أحمد", "المكان": "الحديقة", "الزمان": "غير مذكور. متى حدثت القصة؟ في الصباح أم في المساء؟", "الأسباب": "أحمد هنا ليتعلم عن الطبيعة.", "المعضلة": "غير مذكورة. ما المشكلة أو التحدي الذي يواجه أحمد في هذه القصة؟"}}

    Input: استخرج عناصر القصة الأساسية (الشخصيات، المكان، الزمان، الأسباب، المعضلة) من النص التالي: {data['message']}
    Output:"""

    result = """
    {
        "الشخصيات": "أحمد",
        "المكان": "غير مذكور. أين يمكن أن يكون أحمد؟ في المنزل، المدرسة، أم مكان آخر؟",
        "الزمان": "صباح جميل",
        "الأسباب": "غير مذكورة. لماذا أحمد في هذا المكان؟ هل هو ذاهب لإنجاز شيء مهم أم لمجرد التسلية؟",
        "المعضلة": "غير مذكورة. ما المشكلة أو التحدي الذي يواجه أحمد في هذه القصة؟"
    }
"""

6. Story Completion
     prompt = f"""Input: ساعد الطفل في إكمال قصته عن طريق تشجيعه ثم طرح سؤالين أو ثلاثة أسئلة قصيرة ملهمة ومساعدة.
    قصة الطفل: في الحديقة ولد يدعى عمر.
    Output: بداية رائعة! هل يحب عمر استكشاف الطبيعة؟ هل يلتقي بحيوانات مثيرة في الحديقة؟ هل يتعلم درسًا عن البيئة؟
    Input: ساعد الطفل في إكمال قصته عن طريق تشجيعه ثم طرح سؤالين أو ثلاثة أسئلة قصيرة ملهمة ومساعدة.
    قصة الطفل: {data['message']}.
    Output:"""


7. Activity 1_1
prompt = f"""Input: النص: يتحدث عن قصة ليلى والذئب المعروفة.السؤال: عن ماذا يتحدث النص؟
    الجواب: عن ليلى والذئب في الغابة.
    Output: True

    Input: النص: يتحدث عن قصة ليلى والذئب المعروفة.
    السؤال: عن ماذا يتحدث النص؟
    الجواب: {data['message']}
    Output:"""

8. Activity 1_2
prompt = f"""Input: النص: يتحدث عن معلومات وحقائق عن الذئب.
    السؤال: عن ماذا يتحدث النص؟
    الجواب: عن الذئب وليلى.
    Output: False

    Input: النص: يتحدث عن معلومات وحقائق عن الذئب.
    السؤال: عن ماذا يتحدث النص؟
    الجواب: {data['message']}
    Output:"""

9. Activity 2

    prompt = f"""Input:السؤال: اكتب جملة عن شيء مميز لاحظته اليوم وتخيّل أنه بداية لقصة خيالية.  إجابة الطفل: رأيت قطة صغيرة تحاول القفز على سور الحديقة.  
Output: ["True", "رائع جدًا! هذا بداية ممتازة لقصة مليئة بالمغامرات. يمكنك تخيّل ما حدث للقطة بعد ذلك!"] 

Input:اكتب جملة عن شيء مميز لاحظته اليوم وتخيّل أنه بداية لقصة خيالية.  
   إجابة الطفل: أنا أحب البيتزا. 
Output: ["False","البيتزا لذيذة، لكن حاول أن تكتب عن شيء لاحظته اليوم وكان مميزًا، مثل موقف ممتع أو شيء مثير للاهتمام حدث حولك!"]

Input:اكتب جملة عن شيء مميز لاحظته اليوم وتخيّل أنه بداية لقصة خيالية.  
   إجابة الطفل: {data['message']}. 
Output:
"""